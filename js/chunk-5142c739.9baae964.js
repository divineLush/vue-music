(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5142c739"],{"4df4":function(e,t,r){"use strict";var n=r("0366"),a=r("7b0b"),o=r("9bdd"),i=r("e95a"),s=r("50c4"),c=r("8418"),l=r("35a1");e.exports=function(e){var t,r,u,d,b,f,p=a(e),g="function"==typeof this?this:Array,h=arguments.length,m=h>1?arguments[1]:void 0,v=void 0!==m,O=l(p),y=0;if(v&&(m=n(m,h>2?arguments[2]:void 0,2)),void 0==O||g==Array&&i(O))for(t=s(p.length),r=new g(t);t>y;y++)f=v?m(p[y],y):p[y],c(r,y,f);else for(d=O.call(p),b=d.next,r=new g;!(u=b.call(d)).done;y++)f=v?o(d,m,[u.value,y],!0):u.value,c(r,y,f);return r.length=y,r}},5899:function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(e,t,r){var n=r("1d80"),a=r("5899"),o="["+a+"]",i=RegExp("^"+o+o+"*"),s=RegExp(o+o+"*$"),c=function(e){return function(t){var r=String(n(t));return 1&e&&(r=r.replace(i,"")),2&e&&(r=r.replace(s,"")),r}};e.exports={start:c(1),end:c(2),trim:c(3)}},7156:function(e,t,r){var n=r("861d"),a=r("d2bb");e.exports=function(e,t,r){var o,i;return a&&"function"==typeof(o=t.constructor)&&o!==r&&n(i=o.prototype)&&i!==r.prototype&&a(e,i),e}},"9bdd":function(e,t,r){var n=r("825a"),a=r("2a62");e.exports=function(e,t,r,o){try{return o?t(n(r)[0],r[1]):t(r)}catch(i){throw a(e),i}}},a434:function(e,t,r){"use strict";var n=r("23e7"),a=r("23cb"),o=r("a691"),i=r("50c4"),s=r("7b0b"),c=r("65f0"),l=r("8418"),u=r("1dde"),d=u("splice"),b=Math.max,f=Math.min,p=9007199254740991,g="Maximum allowed length exceeded";n({target:"Array",proto:!0,forced:!d},{splice:function(e,t){var r,n,u,d,h,m,v=s(this),O=i(v.length),y=a(e,O),j=arguments.length;if(0===j?r=n=0:1===j?(r=0,n=O-y):(r=j-2,n=f(b(o(t),0),O-y)),O+r-n>p)throw TypeError(g);for(u=c(v,n),d=0;d<n;d++)h=y+d,h in v&&l(u,d,v[h]);if(u.length=n,r<n){for(d=y;d<O-n;d++)h=d+n,m=d+r,h in v?v[m]=v[h]:delete v[m];for(d=O;d>O-n+r;d--)delete v[d-1]}else if(r>n)for(d=O-n;d>y;d--)h=d+n-1,m=d+r-1,h in v?v[m]=v[h]:delete v[m];for(d=0;d<r;d++)v[d+y]=arguments[d+2];return v.length=O-n+r,u}})},a630:function(e,t,r){var n=r("23e7"),a=r("4df4"),o=r("1c7e"),i=!o((function(e){Array.from(e)}));n({target:"Array",stat:!0,forced:i},{from:a})},a9e3:function(e,t,r){"use strict";var n=r("83ab"),a=r("da84"),o=r("94ca"),i=r("6eeb"),s=r("5135"),c=r("c6b6"),l=r("7156"),u=r("c04e"),d=r("d039"),b=r("7c73"),f=r("241c").f,p=r("06cf").f,g=r("9bf2").f,h=r("58a8").trim,m="Number",v=a[m],O=v.prototype,y=c(b(O))==m,j=function(e){var t,r,n,a,o,i,s,c,l=u(e,!1);if("string"==typeof l&&l.length>2)if(l=h(l),t=l.charCodeAt(0),43===t||45===t){if(r=l.charCodeAt(2),88===r||120===r)return NaN}else if(48===t){switch(l.charCodeAt(1)){case 66:case 98:n=2,a=49;break;case 79:case 111:n=8,a=55;break;default:return+l}for(o=l.slice(2),i=o.length,s=0;s<i;s++)if(c=o.charCodeAt(s),c<48||c>a)return NaN;return parseInt(o,n)}return+l};if(o(m,!v(" 0o1")||!v("0b1")||v("+0x1"))){for(var x,S=function(e){var t=arguments.length<1?0:e,r=this;return r instanceof S&&(y?d((function(){O.valueOf.call(r)})):c(r)!=m)?l(new v(j(t)),r,S):j(t)},w=n?f(v):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),I=0;w.length>I;I++)s(v,x=w[I])&&!s(S,x)&&g(S,x,p(v,x));S.prototype=O,O.constructor=S,i(a,m,S)}},d28b:function(e,t,r){var n=r("746f");n("iterator")},e01a:function(e,t,r){"use strict";var n=r("23e7"),a=r("83ab"),o=r("da84"),i=r("5135"),s=r("861d"),c=r("9bf2").f,l=r("e893"),u=o.Symbol;if(a&&"function"==typeof u&&(!("description"in u.prototype)||void 0!==u().description)){var d={},b=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),t=this instanceof b?new u(e):void 0===e?u():u(e);return""===e&&(d[t]=!0),t};l(b,u);var f=b.prototype=u.prototype;f.constructor=b;var p=f.toString,g="Symbol(test)"==String(u("test")),h=/^Symbol\((.*)\)[^)]+$/;c(f,"description",{configurable:!0,get:function(){var e=s(this)?this.valueOf():this,t=p.call(e);if(i(d,e))return"";var r=g?t.slice(7,-1):t.replace(h,"$1");return""===r?void 0:r}}),n({global:!0,forced:!0},{Symbol:b})}},f74b:function(e,t,r){"use strict";r.r(t);var n=r("7a23"),a={class:"container mx-auto mt-6"},o={class:"md:grid md:grid-cols-3 md:gap-4"},i={class:"col-span-1"},s={class:"col-span-2"},c={class:"bg-white rounded border border-gray-200 relative flex flex-col"},l=Object(n["h"])("div",{class:"px-6 pt-6 pb-5 font-bold border-b border-gray-200"},[Object(n["h"])("span",{class:"card-title"},"My Songs"),Object(n["h"])("i",{class:"fa fa-compact-disc float-right text-green-400 text-2xl"})],-1),u={class:"p-6"};function d(e,t,r,d,b,f){var p=Object(n["z"])("app-upload"),g=Object(n["z"])("app-composition-item");return Object(n["u"])(),Object(n["d"])("section",a,[Object(n["h"])("div",o,[Object(n["h"])("div",i,[Object(n["h"])(p,{addSong:f.addSong},null,8,["addSong"])]),Object(n["h"])("div",s,[Object(n["h"])("div",c,[l,Object(n["h"])("div",u,[(Object(n["u"])(!0),Object(n["d"])(n["a"],null,Object(n["y"])(b.songs,(function(e,t){return Object(n["u"])(),Object(n["d"])(g,{key:e.docID,song:e,index:t,updateSong:f.updateSong,removeSong:f.removeSong},null,8,["song","index","updateSong","removeSong"])})),128))])])])])])}var b=r("5530"),f=r("1da1"),p=(r("96cf"),r("159b"),r("a434"),r("b0c0"),{class:"bg-white rounded border border-gray-200 relative flex flex-col"}),g=Object(n["h"])("div",{class:"px-6 pt-6 pb-5 font-bold border-b border-gray-200"},[Object(n["h"])("span",{class:"card-title"},"Upload"),Object(n["h"])("i",{class:"fas fa-upload float-right text-green-400 text-2xl"})],-1),h={class:"p-6"},m=Object(n["h"])("h5",null,"Drop your files here",-1),v=Object(n["h"])("hr",{class:"my-6"},null,-1),O={class:"flex h-4 overflow-hidden bg-gray-200 rounded"};function y(e,t,r,a,o,i){return Object(n["u"])(),Object(n["d"])("div",p,[g,Object(n["h"])("div",h,[Object(n["h"])("div",{class:["w-full px-10 py-20 rounded text-center cursor-pointer border border-dashed\n          border-gray-400 text-gray-400 transition duration-500 hover:text-white\n          hover:bg-green-400 hover:border-green-400 hover:border-solid",{"bg-green-400 border-green-400 border-solid":o.isDragover}],onDrag:t[1]||(t[1]=Object(n["K"])((function(){return e.drag&&e.drag.apply(e,arguments)}),["prevent","stop"])),onDragstart:t[2]||(t[2]=Object(n["K"])((function(){return e.dragStart&&e.dragStart.apply(e,arguments)}),["prevent","stop"])),onDragend:t[3]||(t[3]=Object(n["K"])((function(){return i.setDragOverFalse&&i.setDragOverFalse.apply(i,arguments)}),["prevent","stop"])),onDragover:t[4]||(t[4]=Object(n["K"])((function(){return i.setDragOverTrue&&i.setDragOverTrue.apply(i,arguments)}),["prevent","stop"])),onDragenter:t[5]||(t[5]=Object(n["K"])((function(){return i.setDragOverTrue&&i.setDragOverTrue.apply(i,arguments)}),["prevent","stop"])),onDragleave:t[6]||(t[6]=Object(n["K"])((function(){return i.setDragOverFalse&&i.setDragOverFalse.apply(i,arguments)}),["prevent","stop"])),onDrop:t[7]||(t[7]=Object(n["K"])((function(e){return i.upload(e)}),["prevent","stop"]))},[m],34),Object(n["h"])("input",{type:"file",multiple:"",onChange:t[8]||(t[8]=function(e){return i.upload(e)})},null,32),v,(Object(n["u"])(!0),Object(n["d"])(n["a"],null,Object(n["y"])(o.uploads,(function(e){return Object(n["u"])(),Object(n["d"])("div",{class:"mb-4",key:e.name},[Object(n["h"])("div",{class:["font-bold text-sm",e.textClass]},[Object(n["h"])("i",{class:e.icon},null,2),Object(n["g"])(" "+Object(n["C"])(e.name),1)],2),Object(n["h"])("div",O,[Object(n["h"])("div",{class:["transition-all progress-bar",e.variant],style:{width:e.currentProgress+"%"}},null,6)])])})),128))])])}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function x(e){if(Array.isArray(e))return j(e)}r("a4d3"),r("e01a"),r("d3b7"),r("d28b"),r("3ca3"),r("ddb0"),r("a630");function S(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}r("fb6a");function w(e,t){if(e){if("string"===typeof e)return j(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?j(e,t):void 0}}function I(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function A(e){return x(e)||S(e)||w(e)||I()}var N=r("b79f"),F={name:"AppUpload",data:function(){return{isDragover:!1,uploads:[]}},props:{addSong:{type:Function,required:!0}},methods:{setDragOverTrue:function(){this.isDragover=!0},setDragOverFalse:function(){this.isDragover=!1},upload:function(e){var t=this;this.setDragOverFalse();var r=e.dataTransfer?A(e.dataTransfer.files):A(e.target.files);r.forEach((function(e){var r=N["d"].ref(),n=r.child("/songs/".concat(e.name)),a=n.put(e),o={task:a,currentProgress:0,name:e.name,variant:"bg-blue-400",icon:"fas fa-spinner fa-spin",textClass:""},i=t.uploads.push(o)-1;a.on("state_changed",(function(e){var r=e.bytesTransferred/e.totalBytes*100;t.uploads[i].currentProgress=r}),(function(e){t.uploads[i].variant="bg-red-400",t.uploads[i].icon="fas fa-times",t.uploads[i].textClass="text-red-400",console.log(e)}),function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(r){var n,o,s,c,l,u,d,b;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=N["a"].currentUser,o=n.uid,s=n.displayName,c=a.snapshot.ref,e.next=4,c.getDownloadURL();case 4:return l=e.sent,u={uid:o,url:l,displayName:s,originalName:c.name,modifiedName:c.name,genre:"",commentCount:0},e.next=8,N["c"].add(u);case 8:return d=e.sent,e.next=11,d.get();case 11:b=e.sent,t.addSong(b),t.uploads[i].variant="bg-green-400",t.uploads[i].icon="fas fa-check",t.uploads[i].textClass="text-green-400",console.log(r);case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}))}},beforeUnmount:function(){this.uploads.forEach((function(e){e.task.cancel()}))}};F.render=y;var k=F,D={class:"border border-gray-200 p-3 mb-4 rounded"},E={key:0},V={class:"inline-block text-2xl font-bold"},C=Object(n["h"])("i",{class:"fa fa-times"},null,-1),T=Object(n["h"])("i",{class:"fa fa-pencil-alt"},null,-1),M={key:1},R={class:"mb-3"},U=Object(n["h"])("label",{class:"inline-block mb-2"},"Song Title",-1),_={class:"mb-3"},K=Object(n["h"])("label",{class:"inline-block mb-2"},"Genre",-1);function P(e,t,r,a,o,i){var s=Object(n["z"])("vee-field"),c=Object(n["z"])("ErrorMessage"),l=Object(n["z"])("vee-form");return Object(n["u"])(),Object(n["d"])("div",D,[o.isFormVisible?(Object(n["u"])(),Object(n["d"])("div",M,[o.isAlertVisible?(Object(n["u"])(),Object(n["d"])("div",{key:0,class:["text-white text-center font-bold p-4 mb-4",o.alertVariant]},Object(n["C"])(o.alertMessage),3)):Object(n["e"])("",!0),Object(n["h"])(l,{"validation-schema":o.schema,"initial-values":o.editedSong,onSubmit:i.submit},{default:Object(n["I"])((function(){return[Object(n["h"])("div",R,[U,Object(n["h"])(s,{type:"text",name:"modifiedName",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300\n              transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Enter Song Title"}),Object(n["h"])(c,{class:"text-red-600",name:"modifiedName"})]),Object(n["h"])("div",_,[K,Object(n["h"])(s,{type:"text",name:"genre",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300\n              transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Enter Genre"}),Object(n["h"])(c,{class:"text-red-600",name:"genre"})]),Object(n["h"])("button",{type:"submit",class:"py-1.5 px-3 rounded text-white bg-green-600",disabled:o.isFormInSubmission}," Submit ",8,["disabled"]),Object(n["h"])("button",{class:"ml-1 py-1.5 px-3 rounded text-white bg-gray-600",disabled:o.isFormInSubmission,onClick:t[3]||(t[3]=Object(n["K"])((function(){return i.toggleFormVisibility&&i.toggleFormVisibility.apply(i,arguments)}),["prevent"]))}," Go Back ",8,["disabled"])]})),_:1},8,["validation-schema","initial-values","onSubmit"])])):(Object(n["u"])(),Object(n["d"])("div",E,[Object(n["h"])("h4",V,Object(n["C"])(r.song.modifiedName),1),Object(n["h"])("button",{class:"ml-1 py-1 px-2 text-sm rounded text-white bg-red-600 float-right",onClick:t[1]||(t[1]=Object(n["K"])((function(){return i.deleteSong&&i.deleteSong.apply(i,arguments)}),["prevent"]))},[C]),Object(n["h"])("button",{class:"ml-1 py-1 px-2 text-sm rounded text-white bg-blue-600 float-right",onClick:t[2]||(t[2]=Object(n["K"])((function(){return i.toggleFormVisibility&&i.toggleFormVisibility.apply(i,arguments)}),["prevent"]))},[T])]))])}r("a9e3");var q={name:"AppCompositionItem",props:{song:{type:Object,required:!0},index:{type:Number,required:!0},updateSong:{type:Function,required:!0},removeSong:{type:Function,required:!0}},data:function(){return{isFormVisible:!1,isFormInSubmission:!1,isAlertVisible:!1,alertVariant:"bg-blue-500",alertMessage:"Please wait! Updating song info.",schema:{modifiedName:"required",genre:"alpha_spaces"},editedSong:{modifiedName:"",genre:""}}},methods:{toggleFormVisibility:function(){this.isFormVisible=!this.isFormVisible},submit:function(e){var t=this;return Object(f["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return console.log(t.song),console.log(t.song.docID),console.log(e),t.isFormInSubmission=!0,t.isAlertVisible=!0,t.alertVariant="bg-blue-500",t.alertMessage="Please wait! Updating song info.",r.prev=7,r.next=10,N["c"].doc(t.song.docID).update(e);case 10:r.next=19;break;case 12:return r.prev=12,r.t0=r["catch"](7),console.log(r.t0),t.isFormInSubmission=!1,t.alertVariant="bg-red-500",t.alertMessage="Something went wrong! Try again later.",r.abrupt("return");case 19:t.isFormInSubmission=!1,t.alertVariant="bg-green-500",t.alertMessage="Success!",t.updateSong(t.index,e);case 23:case"end":return r.stop()}}),r,null,[[7,12]])})))()},deleteSong:function(){var e=this;return Object(f["a"])(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=N["d"].ref(),n=r.child("songs/".concat(e.song.originalName)),t.next=4,n.delete();case 4:return t.next=6,N["c"].doc(e.song.docID).delete();case 6:e.deleteSong(e.index);case 7:case"end":return t.stop()}}),t)})))()}}};q.render=P;var G=q,z={name:"manage",components:{AppUpload:k,AppCompositionItem:G},data:function(){return{songs:[]}},created:function(){var e=this;return Object(f["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,N["c"].where("uid","==",N["a"].currentUser.uid).get();case 2:r=t.sent,r.forEach(e.addSong);case 4:case"end":return t.stop()}}),t)})))()},methods:{updateSong:function(e,t){this.songs[e].modifiedName=t.modifiedName,this.songs[e].genre=t.genre},removeSong:function(e){this.songs.splice(e,1)},addSong:function(e){this.songs.push(Object(b["a"])(Object(b["a"])({},e.data()),{},{docID:e.id}))}}};z.render=d;t["default"]=z},fb6a:function(e,t,r){"use strict";var n=r("23e7"),a=r("861d"),o=r("e8b5"),i=r("23cb"),s=r("50c4"),c=r("fc6a"),l=r("8418"),u=r("b622"),d=r("1dde"),b=d("slice"),f=u("species"),p=[].slice,g=Math.max;n({target:"Array",proto:!0,forced:!b},{slice:function(e,t){var r,n,u,d=c(this),b=s(d.length),h=i(e,b),m=i(void 0===t?b:t,b);if(o(d)&&(r=d.constructor,"function"!=typeof r||r!==Array&&!o(r.prototype)?a(r)&&(r=r[f],null===r&&(r=void 0)):r=void 0,r===Array||void 0===r))return p.call(d,h,m);for(n=new(void 0===r?Array:r)(g(m-h,0)),u=0;h<m;h++,u++)h in d&&l(n,u,d[h]);return n.length=u,n}})}}]);
//# sourceMappingURL=chunk-5142c739.9baae964.js.map